# CodeDocGen Frontend

This project is the frontend for the Code Documentation Generator, built with React and Material UI.

## Prerequisites

- Node.js (v18 or later recommended)
- npm or yarn

## Setup

1.  **Clone the repository (if you haven't already for the backend).**
2.  **Navigate to the `codedocgen-frontend` directory:**
    ```bash
    cd codedocgen-frontend
    ```
3.  **Install dependencies:**
    Using npm:
    ```bash
    npm install
    ```
    Or using yarn:
    ```bash
    yarn install
    ```
4.  **Environment Variables (Optional but Recommended):**
    Create a `.env` file in the `codedocgen-frontend` root directory.
    Add the following line, adjusting the URL if your backend runs elsewhere:
    ```
    REACT_APP_API_URL=http://localhost:8080/api
    REACT_APP_BACKEND_STATIC_URL=http://localhost:8080
    ```
    If these are not present, the app will default to `http://localhost:8080/api` for API calls and `http://localhost:8080` for fetching static diagram files.

## Available Scripts

In the project directory, you can run:

### `npm start` or `yarn start`

Runs the app in development mode.
Open [http://localhost:3000](http://localhost:3000) to view it in your browser.

The page will reload when you make changes.
You may also see any lint errors in the console.

The backend server (codedocgen-backend) must be running for the API calls to work and diagrams to be served.

### `npm test` or `yarn test`

Launches the test runner in interactive watch mode.

### `npm run build` or `yarn build`

Builds the app for production to the `build` folder.
It correctly bundles React in production mode and optimizes the build for the best performance.

The build is minified and the filenames include the hashes.
Your app is ready to be deployed!

### `npm run eject`

**Note: this is a one-way operation. Once you `eject`, you can't go back!**

If you aren't satisfied with the build tool and configuration choices, you can `eject` at any time. This command will remove the single build dependency from your project.

Instead, it will copy all the configuration files and the transitive dependencies (webpack, Babel, ESLint, etc.) right into your project so you have full control over them. All of the commands except `eject` will still work, but they will point to the copied scripts so you can tweak them. At this point, you're on your own.

## Features

- Input a Git repository URL for analysis.
- View a project overview including name, type, and detected Spring Boot version.
- Browse detailed metadata for classes, interfaces, enums, and annotations.
- View extracted REST API endpoints.
- Display various generated PlantUML diagrams with zoom/pan capabilities:
    - Class Diagram
    - Component Diagram
    - Usecase Diagram
    - Entity-Relationship Diagram (ERD)
    - Database Schema Diagram
- **Call Flow Analysis:**
    - View generated Sequence Diagrams for key controller/service entry points.
    - See raw, step-by-step call flows associated with each sequence diagram.
- **Database Analysis:**
    - View a list of detected database entities.
    - Display a database schema diagram.
    - (Future: List DAO operations and associated tables more accurately).
- View OpenAPI/Swagger UI if an OpenAPI specification is generated by the backend.
- Display Gherkin feature files if present in the analyzed project.
- View parse warnings if some files encounter issues during backend analysis.

## Further Enhancements (TODO)

- More detailed display for SOAP services (if WSDLs are found and parsed).
- Enhanced error handling and user feedback for edge cases.
- More sophisticated UI for displaying complex metadata (e.g., method parameters, annotations).
- Options to trigger re-analysis or clear results without restarting.
- Dark mode theme.
- Improved accuracy for DAO operation listing on the Database page.
- Better handling and display of external/library calls in sequence diagrams.

## Run Locally
```bash
npm install
npm start
```

## Uses
- React + TypeScript
- Tailwind CSS + shadcn/ui (Note: Initial project setup used Material UI, this might be outdated or mixed)
- Axios for backend integration

## Recent Updates
- **Major Backend Overhaul for Accuracy:**
    - Implemented robust Java symbol resolution using JavaSymbolSolver, significantly improving the accuracy of method call detection, type resolution, and overall code understanding.
    - Enhanced `CallFlowAnalyzer` to produce more accurate sequence diagrams and raw call steps, leveraging the improved parser output.
    - Refined class type determination (controller, service, repository, entity, model, etc.).
    - Improved DAO analysis for better identification of repository methods and basic SQL query detection.
- **Frontend Diagram & Call Flow Improvements:**
    - Call Flow page now correctly displays sequence diagram images alongside their raw textual call steps.
    - Ensured all diagram types (Class, Component, Usecase, Sequence, ERD, DB Schema) are rendered correctly using an image viewer.
    - Spring Boot version detection and display on the Overview page is now accurate.
- **General Stability:**
    - Addressed various bugs related to diagram loading, data passing between frontend components, and backend parsing errors.
    - JavaParser backend upgraded for Java 7-21 compatibility.
    - Improved logging in the backend for easier debugging of parsing and analysis issues. 